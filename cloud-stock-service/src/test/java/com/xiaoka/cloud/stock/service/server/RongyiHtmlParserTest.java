package com.xiaoka.cloud.stock.service.server;

import com.xiaoka.cloud.stock.service.server.core.parser.HtmlParser;
import com.xiaoka.cloud.stock.service.server.core.parser.dto.RongyiStockDto;
import com.xiaoka.freework.container.test.ContainerTest;
import org.junit.Test;
import org.springframework.test.context.ContextConfiguration;

import javax.annotation.Resource;
import java.util.List;

/**
 * @author zhouze
 * @date 2018/1/10
 * @see [相关类/方法]
 * @since [版本号]
 */
@ContextConfiguration(locations = {
		"classpath:spring/cloud-stock-ds.xml",
		"classpath:spring/cloud-stock-orm.xml",
		"classpath:spring/cloud-stock-context.xml",
		"classpath:spring/cloud-stock-soa-reference.xml",
		"classpath:spring/memcache.xml",
		"classpath:spring/mongo.xml",
		"classpath*:spring/tool-service.xml"
})
public class RongyiHtmlParserTest extends ContainerTest {
	@Resource
	HtmlParser rongyiErpParser;

	@Test
	public void parseRongyiTest() {
		List<RongyiStockDto> rongyiStockDtos = (List<RongyiStockDto>) rongyiErpParser.parse(html);


	}

	private static String html = "<html>\n" +
			"<head>\n" +
			"<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n" +
			"<link rel=\"stylesheet\" href=\"2016/mycss.css\">\n" +
			"<title>库存查询</title>\n" +
			"</head>\n" +
			"<body class=\"m\" topmargin=\"0\" leftmargin=\"0\">\n" +
			"<div style=\"display:none\"><table id=\"Ksinputtable\"><tr><td ftype=\"\" fid=\"usergrp\" id=\"Ksinputtableusergrp\" Ksfv=\"06\"></td><td ftype=\"\" fid=\"wh_loc\" id=\"Ksinputtablewh_loc\" Ksfv=\"\"></td><td ftype=\"\" fid=\"bin\" id=\"Ksinputtablebin\" Ksfv=\"\"></td><td ftype=\"\" fid=\"row\" id=\"Ksinputtablerow\" Ksfv=\"\"></td><td ftype=\"\" fid=\"wt\" id=\"Ksinputtablewt\" Ksfv=\"\"></td><td ftype=\"\" fid=\"stk\" id=\"Ksinputtablestk\" Ksfv=\"\"></td><td ftype=\"\" fid=\"vnd_id\" id=\"Ksinputtablevnd_id\" Ksfv=\"\"></td><td ftype=\"\" fid=\"item1_code\" id=\"Ksinputtableitem1_code\" Ksfv=\"\"></td><td ftype=\"\" fid=\"ref_type\" id=\"Ksinputtableref_type\" Ksfv=\"\"></td><td ftype=\"\" fid=\"ref_date1\" id=\"Ksinputtableref_date1\" Ksfv=\"\"></td><td ftype=\"\" fid=\"ref_date2\" id=\"Ksinputtableref_date2\" Ksfv=\"\"></td><td ftype=\"\" fid=\"item_brand\" id=\"Ksinputtableitem_brand\" Ksfv=\"\"></td><td ftype=\"\" fid=\"spec\" id=\"Ksinputtablespec\" Ksfv=\"\"></td><td ftype=\"\" fid=\"item2_code\" id=\"Ksinputtableitem2_code\" Ksfv=\"\"></td><td ftype=\"\" fid=\"item_code\" id=\"Ksinputtableitem_code\" Ksfv=\"\"></td><td ftype=\"\" fid=\"src_id\" id=\"Ksinputtablesrc_id\" Ksfv=\"\"></td><td ftype=\"\" fid=\"item_desc\" id=\"Ksinputtableitem_desc\" Ksfv=\"\"></td><td ftype=\"\" fid=\"xtype\" id=\"Ksinputtablextype\" Ksfv=\"\"></td><td ftype=\"\" fid=\"prod\" id=\"Ksinputtableprod\" Ksfv=\"\"></td><td ftype=\"\" fid=\"KsCurrentPageNo\" id=\"KsinputtableKsCurrentPageNo\" Ksfv=\"\"></td><td ftype=\"S\" fid=\"KsPid\" id=\"KsinputtableKsPid\" Ksfv=\"06020457038240837553\"></td><td ftype=\"S\" fid=\"KsCustom\" id=\"KsinputtableKsCustom\" Ksfv=\"\"></td><td ftype=\"S\" fid=\"KsAppVerson\" id=\"KsinputtableKsAppVerson\" Ksfv=\"2016/\"></td></tr></table></div><Script language=JavaScript>var KsScript_name=\"nStkMnt01B.jsp\";var KsSystemParams=\"KsPid=06020457038240837553&KsCustom=&KsAppVerson=2016/&KsTime=20180109153022\";</Script><input type=hidden name=KsResizeObject><div id=KsPageGirdTextd style=\"display:none\"></div><input type=hidden name=KsPageGirdText id=KsPageGirdText value=\"N\"><input type=hidden name=KsForm><input type=hidden name=\"KsGraphSubWin\"><Script language=\"JavaScript\">function KsInitPage(){if((document.all.KsIncludingsPage.getAttribute(\"flag\")==\"\")||(window.KsJSLoaded&&window.KsOnLoadCMP))KsInitPageRun()};</Script><Script language=\"JavaScript\">window.KsJSLoaded=window.KsOnLoadCMP=false;</Script><input type=hidden name=KsIncludingsPage flag=\"Asynchronous\" value=\"N\"><Script language=\"JavaScript\">function LoadScriptbySrc(src, id, callback){var oHead = document.getElementsByTagName(\"HEAD\").item(0);var oScript = document.createElement( \"script\" );oScript.id=id;oScript.language = \"javascript\";oScript.type = \"text/javascript\";oScript.src = src;oScript.onload = oScript.onreadystatechange = function(){if (oScript.readyState && oScript.readyState != \"loaded\" && oScript.readyState != \"complete\")return;oScript.onreadystatechange = oScript.onload = null;if(callback)eval(callback);if(window.KS)KS.Event._onContentLoad2();};oHead.appendChild( oScript );};function KsSrcCallBack(){window.KsJSLoaded=true;KsInitPage();};LoadScriptbySrc(\"nStkMnt01B.jsp?KsPid=06020457038240837553&KsCustom=&KsAppVerson=2016/&KsRun=&KsIncludings=323130171513.js&KWDVerson=20180109153022752\", \"KsIncludings\", \"KsSrcCallBack()\");</Script><input type=hidden name=\"DbPageGridText1GetFocusPgDn\" id=\"DbPageGridText1GetFocusPgDn\" value=\"N\"><div id=\"KsdivDbPageGridText1\"><Table KsCellTbl=\"KscelltblDbPageGridText1\" KsTitleNum=\"1\" KsShowHead=\"Y\" did=\"KsdivDbPageGridText1\" didb=\"KsdivbDbPageGridText1\" Ksifrmrf=\"KsifrmrfDbPageGridText1\" id=\"DbPageGridText1\" pg=\"19\" KsSrc=\"nStkMnt01B.jsp\" KsCurpos=\"1\" KsifrmTbl=\"\" KsSaveback=\"Ksfirst\" KsButtons=\"\" KsBarShow=\"False\" KsCurback=\"#61E04A\" onkeydown=\"this.KeyDown()\" KsMainTbl=\"\" tabindex=0 contenteditable=\"false\" KsSubTbl=\"\" KsInited=\"N\" GetFocusPgDn=\"Y\" KsEof=\"False\" KsBof=\"True\" KsOnKeyUp=\"\" KsOnKeyDown=\"domod(window.event.keyCode);\" KsAutoInit=\"\" KsOnMouseDown=\"\" Pgm=\"R\" OnSetFocus=\"\" ParamData=\"DbPageGridText1ParamData\" KsCurrentPageNo=\"1\" Resize=\"Y\" KsTotalPages=\"216\" KsOnFocus=\"\" KsOnBlur=\"\" KsRecordCount=\"4314\" onkeyup=\"this.KeyUp()\" onBlur=\"this.Blur()\" FootNum=\"0\"  KsTotalPosition=\"Foot\"width=\"1555\" class=\"pt\" border=\"1rem\" borderColorDark=\"#d9d9d9\" borderColorLight=\"#a6a6a6\" cellPadding=\"0\" cellSpacing=\"0\" style=\"border-collapse:collapse\" InitFuncs=\"\" UnloadOnBlur=\"\" KsUrlPrx=\"\"><tr class=\"ph\"><TH Ksname=\"cnt\">序号</TH><TH Ksname=\"item_code\">商品编码<font color=\"red\">(回车明细)</font></TH><TH Ksname=\"src_id\">原厂图号<font color=\"red\">(L键流水帐)</font></TH><TH Ksname=\"item_desc\">名称</TH><TH Ksname=\"type\">适用车型</TH><TH Ksname=\"prod\">产地</TH><TH Ksname=\"spec\">规格</TH><TH Ksname=\"unit\">单位</TH><TH Ksname=\"item_brand\">品牌</TH><TH Ksname=\"wh_loc\">仓库</TH><TH Ksname=\"stktol_qty\">合计库存</TH><TH Ksname=\"stk_qty\">当前库存</TH><TH Ksname=\"pur_price\">单价</TH><TH Ksname=\"stk_amt\">金额</TH><TH Ksname=\"bin\">架</TH><TH Ksname=\"row\">层</TH><TH Ksname=\"loc\">位</TH><TH Ksname=\"item1_code\">编码一</TH><TH Ksname=\"item2_code\">编码二</TH></tr><tr Kscnt=1 ondblclick=\"domod(13);\" ><td align=\"center\">1</td><td >&nbsp</td><td >&nbsp</td><td >&nbsp</td><td >&nbsp</td><td >&nbsp</td><td >&nbsp</td><td >&nbsp</td><td >&nbsp</td><td >&nbsp</td><td align=\"right\">149360.01</td><td align=\"right\">26823.6</td><td align=\"right\">&nbsp</td><td align=\"right\">3230375.71</td><td >&nbsp</td><td >&nbsp</td><td >&nbsp</td><td >&nbsp</td><td >&nbsp</td></tr><tr Kscnt=2 ondblclick=\"domod(13);\" ><td align=\"center\">2</td><td >010101-006</td><td >1005536-00-J</td><td >水箱框架</td><td >特斯拉</td><td >YC</td><td >&nbsp</td><td >个</td><td >特斯拉</td><td >06ATS</td><td align=\"right\">0</td><td align=\"right\">0</td><td align=\"right\">7200</td><td align=\"right\">0</td><td >/</td><td >/</td><td >/</td><td >SXKJ-1005536-00-J</td><td >&nbsp</td></tr><tr Kscnt=3 ondblclick=\"domod(13);\" ><td align=\"center\">3</td><td >010101-007</td><td >51117198868</td><td >水箱框架</td><td >古思特</td><td >YC</td><td >&nbsp</td><td >个</td><td >劳斯莱斯</td><td >06ARS</td><td align=\"right\">0</td><td align=\"right\">0</td><td align=\"right\">6200</td><td align=\"right\">&nbsp</td><td >/</td><td >/</td><td >/</td><td >&nbsp</td><td >&nbsp</td></tr><tr Kscnt=4 ondblclick=\"domod(13);\" ><td align=\"center\">4</td><td >010101-018</td><td >3W0805155AH</td><td >水箱框架</td><td >新飞驰</td><td >YC</td><td >&nbsp</td><td >个</td><td >宾利</td><td >06ABL</td><td align=\"right\">0</td><td align=\"right\">0</td><td align=\"right\">4400</td><td align=\"right\">0</td><td >/</td><td >/</td><td >/</td><td >SXKJ-3W0805155AH</td><td >&nbsp</td></tr><tr Kscnt=5 ondblclick=\"domod(13);\" ><td align=\"center\">5</td><td >010101-034</td><td >1061950-00-D</td><td >水箱框架</td><td >MODEL S 70</td><td >YC</td><td >&nbsp</td><td >个</td><td >特斯拉</td><td >06ATS</td><td align=\"right\">0</td><td align=\"right\">0</td><td align=\"right\">5150</td><td align=\"right\">0</td><td >/</td><td >/</td><td >/</td><td >1061950-00-D</td><td >&nbsp</td></tr><tr Kscnt=6 ondblclick=\"domod(13);\" ><td align=\"center\">6</td><td >010101-038</td><td >95B805295</td><td >水箱框架</td><td >MACAN</td><td >YC</td><td >左</td><td >个</td><td >进口莲花</td><td >06ALH</td><td align=\"right\">0</td><td align=\"right\">0</td><td align=\"right\">550</td><td align=\"right\">0</td><td >/</td><td >/</td><td >/</td><td >95B805295</td><td >&nbsp</td></tr><tr Kscnt=7 ondblclick=\"domod(13);\" ><td align=\"center\">7</td><td >010101-039</td><td >95B805594</td><td >水箱框架</td><td >MACAN</td><td >YC</td><td >右</td><td >个</td><td >进口莲花</td><td >06ALH</td><td align=\"right\">0</td><td align=\"right\">0</td><td align=\"right\">550</td><td align=\"right\">0</td><td >/</td><td >/</td><td >/</td><td >95B805594</td><td >&nbsp</td></tr><tr Kscnt=8 ondblclick=\"domod(13);\" ><td align=\"center\">8</td><td >010101-044</td><td >670032664</td><td >水箱框架（龙门架）</td><td >M161</td><td >ZC</td><td >&nbsp</td><td >个</td><td >玛莎拉蒂</td><td >06AMS</td><td align=\"right\">0</td><td align=\"right\">0</td><td align=\"right\">2700</td><td align=\"right\">0</td><td >/</td><td >/</td><td >/</td><td >670032664</td><td >&nbsp</td></tr><tr Kscnt=9 ondblclick=\"domod(13);\" ><td align=\"center\">9</td><td >010101-045</td><td >50547040</td><td >水箱框架</td><td >GIULIA</td><td >YC</td><td >&nbsp</td><td >个</td><td >其它车型</td><td >06AZ</td><td align=\"right\">0</td><td align=\"right\">0</td><td align=\"right\">3504</td><td align=\"right\">0</td><td >/</td><td >/</td><td >/</td><td >50547040</td><td >&nbsp</td></tr><tr Kscnt=10 ondblclick=\"domod(13);\" ><td align=\"center\">10</td><td >010102-003</td><td >41007242661</td><td >机盖铰链</td><td >古思特</td><td >YC</td><td >左</td><td >根</td><td >劳斯莱斯</td><td >06ARS</td><td align=\"right\">0</td><td align=\"right\">0</td><td align=\"right\">3500</td><td align=\"right\">&nbsp</td><td >/</td><td >/</td><td >/</td><td >JGJL-41007242661</td><td >&nbsp</td></tr><tr Kscnt=11 ondblclick=\"domod(13);\" ><td align=\"center\">11</td><td >010102-004</td><td >41007242662</td><td >机盖铰链</td><td >古思特</td><td >YC</td><td >右</td><td >根</td><td >劳斯莱斯</td><td >06ARS</td><td align=\"right\">0</td><td align=\"right\">0</td><td align=\"right\">3500</td><td align=\"right\">&nbsp</td><td >/</td><td >/</td><td >/</td><td >JGJL-41007242662</td><td >&nbsp</td></tr><tr Kscnt=12 ondblclick=\"domod(13);\" ><td align=\"center\">12</td><td >010102-040</td><td >6006738-00-E</td><td >机盖铰链</td><td >70D</td><td >YC</td><td >左</td><td >个</td><td >特斯拉</td><td >06ATS</td><td align=\"right\">0</td><td align=\"right\">0</td><td align=\"right\">300</td><td align=\"right\">0</td><td >/</td><td >/</td><td >/</td><td >6006738-00-E</td><td >&nbsp</td></tr><tr Kscnt=13 ondblclick=\"domod(13);\" ><td align=\"center\">13</td><td >010102-041</td><td >6006737-00-E</td><td >机盖铰链</td><td >70D</td><td >YC</td><td >右</td><td >个</td><td >特斯拉</td><td >06ATS</td><td align=\"right\">0</td><td align=\"right\">0</td><td align=\"right\">300</td><td align=\"right\">0</td><td >/</td><td >/</td><td >/</td><td >6006737-00-E</td><td >&nbsp</td></tr><tr Kscnt=14 ondblclick=\"domod(13);\" ><td align=\"center\">14</td><td >010102-044</td><td >6006738-00-E</td><td >机盖铰链</td><td >MODEL S 70</td><td >CC</td><td >左/大</td><td >个</td><td >特斯拉</td><td >06ATS</td><td align=\"right\">0</td><td align=\"right\">0</td><td align=\"right\">300</td><td align=\"right\">0</td><td >/</td><td >/</td><td >/</td><td >6006738-00-E</td><td >&nbsp</td></tr><tr Kscnt=15 ondblclick=\"domod(13);\" ><td align=\"center\">15</td><td >010102-045</td><td >6006737-00-E</td><td >机盖铰链</td><td >MODEL S 70</td><td >CC</td><td >右</td><td >个</td><td >特斯拉</td><td >06ATS</td><td align=\"right\">0</td><td align=\"right\">0</td><td align=\"right\">300</td><td align=\"right\">0</td><td >/</td><td >/</td><td >/</td><td >6006737-00-E</td><td >&nbsp</td></tr></table><div id=\"KsdivbDbPageGridText1\">第1页&nbsp;共216页&nbsp;共4314条记录&nbsp;跳到<input type=text id=\"DbPageGridText1gotopage\" name=\"DbPageGridText1gotopage\"size=2 onkeyup=\"if(window.event.keyCode==13){DbPageGridText1.GoToPage(DbPageGridText1gotopage.value);DbPageGridText1.focus();}\">页<input type=button name=\"GoToPage\" value=\"确定\" onclick=\"DbPageGridText1.GoToPage(DbPageGridText1gotopage.value);DbPageGridText1.focus();\" class=\"buttonSys\">&nbsp;<Ks#PgUp>&nbsp;<input type=button name=\"Up\" value=\"上条\" onclick=\"DbPageGridText1.Up();DbPageGridText1.focus();\" class=\"buttonSys\">&nbsp;<input type=button name=\"Down\" value=\"下条\" onclick=\"DbPageGridText1.Down();DbPageGridText1.focus();\" class=\"buttonSys\">&nbsp;<input type=button name=\"PgDn\" value=\"下一页\" onclick=\"DbPageGridText1.PgDn();DbPageGridText1.focus();\" class=\"buttonSys\">&nbsp;<Ks#Return>&nbsp;</div></div><div style=\"display:none\"><table id=\"KscelltblDbPageGridText1\"><TH Ksname=\"cnt\">序号</TH><TH Ksname=\"item_code\">商品编码<font color=\"red\">(回车明细)</font></TH><TH Ksname=\"src_id\">原厂图号<font color=\"red\">(L键流水帐)</font></TH><TH Ksname=\"item_desc\">名称</TH><TH Ksname=\"type\">适用车型</TH><TH Ksname=\"prod\">产地</TH><TH Ksname=\"spec\">规格</TH><TH Ksname=\"unit\">单位</TH><TH Ksname=\"item_brand\">品牌</TH><TH Ksname=\"wh_loc\">仓库</TH><TH Ksname=\"stktol_qty\">合计库存</TH><TH Ksname=\"stk_qty\">当前库存</TH><TH Ksname=\"pur_price\">单价</TH><TH Ksname=\"stk_amt\">金额</TH><TH Ksname=\"bin\">架</TH><TH Ksname=\"row\">层</TH><TH Ksname=\"loc\">位</TH><TH Ksname=\"item1_code\">编码一</TH><TH Ksname=\"item2_code\">编码二</TH></table></div><input type=hidden name=\"DbPageGridText1ParamData\" id=\"DbPageGridText1ParamData\" value=\"\"><IFRAME src=\"about:blank\" name=\"KsifrmrfDbPageGridText1\" FRAMEBORDER=1 WIDTH=\"0\" HEIGHT=\"0\"></IFRAME><div style=\"display:none\"><Form name=\"pageformDbPageGridText1\" action=\"nStkMnt01B.jsp\"><input type=hidden name=kspgdnDbPageGridText1 value=Y><input type=hidden name=\"KsPid\" value=\"06020457038240837553\"><input type=hidden name=\"KsCustom\" value=\"\"><input type=hidden name=\"KsAppVerson\" value=\"2016/\"><input type=hidden name=\"KsTime\" value=\"20180109153022\" Ksvalue=\"20180109153022\"><input type=hidden name=\"usergrp\" value=\"06\" id=\"usergrp\"><input type=hidden name=\"wh_loc\" value=\"\" id=\"wh_loc\"><input type=hidden name=\"bin\" value=\"\" id=\"bin\"><input type=hidden name=\"row\" value=\"\" id=\"row\"><input type=hidden name=\"wt\" value=\"\" id=\"wt\"><input type=hidden name=\"stk\" value=\"\" id=\"stk\"><input type=hidden name=\"vnd_id\" value=\"\" id=\"vnd_id\"><input type=hidden name=\"item1_code\" value=\"\" id=\"item1_code\"><input type=hidden name=\"ref_type\" value=\"\" id=\"ref_type\"><input type=hidden name=\"ref_date1\" value=\"\" id=\"ref_date1\"><input type=hidden name=\"ref_date2\" value=\"\" id=\"ref_date2\"><input type=hidden name=\"item_brand\" value=\"\" id=\"item_brand\"><input type=hidden name=\"spec\" value=\"\" id=\"spec\"><input type=hidden name=\"item2_code\" value=\"\" id=\"item2_code\"><input type=hidden name=\"item_code\" value=\"\" id=\"item_code\"><input type=hidden name=\"src_id\" value=\"\" id=\"src_id\"><input type=hidden name=\"item_desc\" value=\"\" id=\"item_desc\"><input type=hidden name=\"xtype\" value=\"\" id=\"xtype\"><input type=hidden name=\"prod\" value=\"\" id=\"prod\"></form></div>\n" +
			"<div id=\"SubWin1\" KsSubForm=\"KsSubFormSubWin1\" style=\"z-index:1002;width:1070px;height:414px;left:0px;top:0px;background-color:#E7E7E7;color:#FFFFFF;font-size:12px;font-family:Verdana;position:absolute;cursor:default;border:2px solid outset ;display:none\" onmousedown=\"this.getFocus(this)\" KsSubType=\"Mixed\" Kscls=\"KsclsSubWin1\" Ksmin=\"KsminSubWin1\" KsContent=\"KsContentSubWin1\" Selectedcolor=\"#4c5366\" bordercolor=\"\" backgroundcolor=\"#E7E7E7\" KsRetFcs=\"\" KsTitle=\"KsTitleSubWin1\" KsOnRetFuncs=\"\" OnKeyUp=\"this.KeyUp()\" KsOnKeyUp=\"\" headadd=\"\" OnKeyDown=\"this.KeyDown()\" KsOnKeyDown=\"\" tabindex=0 contenteditable=\"false\"  KsShowTitle=\"Y\" Ksifrm=\"KsifrmSwSubWin1\" KsSrc=\"nStkMnt01B2.jsp\" KsTblSw=\"KsTblSwSubWin1\" SetReady=\"N\" OnClose=\"\" KsSetSrcMode=\"Replace\" KsUrlPrx=\"\"><div style=\"background-color:#4c5366;width:%100;height:20;color:white;\" onmousedown=\"this.parentNode.startDrag(this)\" onmouseup=\"this.parentNode.stopDrag(this)\"onmousemove=\"this.parentNode.drag(this)\"  ><span id=\"KsTitleSubWin1\" style=\"width:1040px;padding-left:3px;display:inline-block\"><center>库存流水</center></span><span id=\"KsminSubWin1\" offset=2 style=\"width:12px;border-width:0px;color:white;font-family:Webdings;display:inline-block\" onclick=\"this.parentNode.parentNode.min(this)\">0</span><span id=\"KsclsSubWin1\" offset=2 style=\"width:12px;border-width:0px;color:white;font-family:Webdings;display:inline-block\" onclick=\"this.parentNode.parentNode.cls(this)\">r</span></div><div id=\"KsContentSubWin1\" style=\"width:100%;height:390px;background-color:#E7E7E7;color:#FFFFFF;line-height:14px;word-break:break-all;padding:0px;\"><iframe src=\"about:blank\" FRAMEBORDER=0 MARGINWIDTH=0 MARGINHEIGHT=0 name=\"KsifrmSwSubWin1\" id=\"KsifrmSwSubWin1\" width=\"100%\" height=\"100%\"></iframe></div></div><div style=\"width:1070;height:390;top:0;left:0;z-index:1001;position:absolute;display:none;background-color:black;filter:alpha(opacity=40);\">?</div><div><IFrame id=\"KsIFrameKsSubFormSubWin1\" name=\"KsIFrameKsSubFormSubWin1\" width=0 height=0 FRAMEBORDER=0 MARGINWIDTH=0 MARGINHEIGHT=0></IFrame></div><form style=\"display:none\" name=\"KsSubFormSubWin1\" id=\"KsSubFormSubWin1\" method=\"Post\" KsOnGetQueryString=\"kssysfunc1\" action=\"nStkMnt01B2.jsp\" KsSystemInput=\"KsPid=06020457038240837553&KsCustom=&KsAppVerson=2016/&KsTime=20180109153022\" Unique=\"\"><input type=hidden name=\"KsSrc\" id=\"KsSrc\" value=\"nStkMnt01B2.jsp\"><input type=hidden name=\"KsPid\" id=\"KsPid\" value=\"06020457038240837553\"><input type=hidden name=\"KsCustom\" id=\"KsCustom\" value=\"\"><input type=hidden name=\"KsAppVerson\" id=\"KsAppVerson\" value=\"2016/\"><input type=hidden name=\"item_code\" id=\"item_code\" value=\"\"><input type=hidden name=\"wh_loc\" id=\"wh_loc\" value=\"\"></Form>\n" +
			"<div id=\"SubWin2\" KsSubForm=\"KsSubFormSubWin2\" style=\"z-index:1002;width:1410px;height:414px;left:0px;top:0px;background-color:#E7E7E7;color:#FFFFFF;font-size:12px;font-family:Verdana;position:absolute;cursor:default;border:2px solid outset ;display:none\" onmousedown=\"this.getFocus(this)\" KsSubType=\"Mixed\" Kscls=\"KsclsSubWin2\" Ksmin=\"KsminSubWin2\" KsContent=\"KsContentSubWin2\" Selectedcolor=\"#4c5366\" bordercolor=\"\" backgroundcolor=\"#E7E7E7\" KsRetFcs=\"\" KsTitle=\"KsTitleSubWin2\" KsOnRetFuncs=\"\" OnKeyUp=\"this.KeyUp()\" KsOnKeyUp=\"\" headadd=\"\" OnKeyDown=\"this.KeyDown()\" KsOnKeyDown=\"\" tabindex=0 contenteditable=\"false\"  KsShowTitle=\"Y\" Ksifrm=\"KsifrmSwSubWin2\" KsSrc=\"purs03.jsp\" KsTblSw=\"KsTblSwSubWin2\" SetReady=\"N\" OnClose=\"\" KsSetSrcMode=\"Replace\" KsUrlPrx=\"\"><div style=\"background-color:#4c5366;width:%100;height:20;color:white;\" onmousedown=\"this.parentNode.startDrag(this)\" onmouseup=\"this.parentNode.stopDrag(this)\"onmousemove=\"this.parentNode.drag(this)\"  ><span id=\"KsTitleSubWin2\" style=\"width:1380px;padding-left:3px;display:inline-block\"><center>库存流水</center></span><span id=\"KsminSubWin2\" offset=2 style=\"width:12px;border-width:0px;color:white;font-family:Webdings;display:inline-block\" onclick=\"this.parentNode.parentNode.min(this)\">0</span><span id=\"KsclsSubWin2\" offset=2 style=\"width:12px;border-width:0px;color:white;font-family:Webdings;display:inline-block\" onclick=\"this.parentNode.parentNode.cls(this)\">r</span></div><div id=\"KsContentSubWin2\" style=\"width:100%;height:390px;background-color:#E7E7E7;color:#FFFFFF;line-height:14px;word-break:break-all;padding:0px;\"><iframe src=\"about:blank\" FRAMEBORDER=0 MARGINWIDTH=0 MARGINHEIGHT=0 name=\"KsifrmSwSubWin2\" id=\"KsifrmSwSubWin2\" width=\"100%\" height=\"100%\"></iframe></div></div><div style=\"width:1410;height:390;top:0;left:0;z-index:1001;position:absolute;display:none;background-color:black;filter:alpha(opacity=40);\">?</div><div><IFrame id=\"KsIFrameKsSubFormSubWin2\" name=\"KsIFrameKsSubFormSubWin2\" width=0 height=0 FRAMEBORDER=0 MARGINWIDTH=0 MARGINHEIGHT=0></IFrame></div><form style=\"display:none\" name=\"KsSubFormSubWin2\" id=\"KsSubFormSubWin2\" method=\"Post\" KsOnGetQueryString=\"kssysfunc2\" action=\"purs03.jsp\" KsSystemInput=\"KsPid=06020457038240837553&KsCustom=&KsAppVerson=2016/&KsTime=20180109153022\" Unique=\"\"><input type=hidden name=\"KsSrc\" id=\"KsSrc\" value=\"purs03.jsp\"><input type=hidden name=\"KsPid\" id=\"KsPid\" value=\"06020457038240837553\"><input type=hidden name=\"KsCustom\" id=\"KsCustom\" value=\"\"><input type=hidden name=\"KsAppVerson\" id=\"KsAppVerson\" value=\"2016/\"><input type=hidden name=\"item1_code\" id=\"item1_code\" value=\"\"></Form>\n" +
			"<div id=\"SubWinL\" KsSubForm=\"KsSubFormSubWinL\" style=\"z-index:202;width:1190px;height:474px;left:0px;top:0px;background-color:#E7E7E7;color:#FFFFFF;font-size:12px;font-family:Verdana;position:absolute;cursor:default;border:2px solid outset ;display:none\" onmousedown=\"this.getFocus(this)\" KsSubType=\"ClntWin\" Kscls=\"KsclsSubWinL\" Ksmin=\"KsminSubWinL\" KsContent=\"KsContentSubWinL\" Selectedcolor=\"#4c5366\" bordercolor=\"\" backgroundcolor=\"#E7E7E7\" KsRetFcs=\"\" KsTitle=\"KsTitleSubWinL\" KsOnRetFuncs=\"\" OnKeyUp=\"this.KeyUp()\" KsOnKeyUp=\"\" headadd=\"\" OnKeyDown=\"this.KeyDown()\" KsOnKeyDown=\"\" tabindex=0 contenteditable=\"false\"  KsShowTitle=\"Y\" Ksifrm=\"KsifrmSwSubWinL\" KsSrc=\"ItemTrxRecInq01.jsp\" KsTblSw=\"KsTblSwSubWinL\" SetReady=\"N\" OnClose=\"\" KsSetSrcMode=\"Replace\" KsUrlPrx=\"\"><div style=\"background-color:#4c5366;width:%100;height:20;color:white;\" onmousedown=\"this.parentNode.startDrag(this)\" onmouseup=\"this.parentNode.stopDrag(this)\"onmousemove=\"this.parentNode.drag(this)\"  ><span id=\"KsTitleSubWinL\" style=\"width:1160px;padding-left:3px;display:inline-block\">&nbsp;</span><span id=\"KsminSubWinL\" offset=2 style=\"width:12px;border-width:0px;color:white;font-family:Webdings;display:inline-block\" onclick=\"this.parentNode.parentNode.min(this)\">0</span><span id=\"KsclsSubWinL\" offset=2 style=\"width:12px;border-width:0px;color:white;font-family:Webdings;display:inline-block\" onclick=\"this.parentNode.parentNode.cls(this)\">r</span></div><div id=\"KsContentSubWinL\" style=\"width:100%;height:450px;background-color:#E7E7E7;color:#FFFFFF;line-height:14px;word-break:break-all;padding:0px;\"><iframe src=\"about:blank\" FRAMEBORDER=0 MARGINWIDTH=0 MARGINHEIGHT=0 name=\"KsifrmSwSubWinL\" id=\"KsifrmSwSubWinL\" width=\"100%\" height=\"100%\"></iframe><Script language=JavaScript>var Ksc=String.fromCharCode(39);KsifrmSwSubWinL.document.open();KsifrmSwSubWinL.document.write('<html><head><link rel=\"stylesheet\" href=\"2016\\\\mycss.css\"></head><body onkeyup=\"\" onkeydown=\"\"></body></html>');KsifrmSwSubWinL.document.close();</Script></div></div><div style=\"width:1190;height:450;top:0;left:0;z-index:201;position:absolute;display:none;background-color:black;filter:alpha(opacity=40);\">?</div><Script language=JavaScript>SubWinL.SetReady=\"Y\";</Script><div><IFrame id=\"KsIFrameKsSubFormSubWinL\" name=\"KsIFrameKsSubFormSubWinL\" width=0 height=0 FRAMEBORDER=0 MARGINWIDTH=0 MARGINHEIGHT=0></IFrame></div><form style=\"display:none\" name=\"KsSubFormSubWinL\" id=\"KsSubFormSubWinL\" method=\"Post\" KsOnGetQueryString=\"kssysfunc3\" action=\"ItemTrxRecInq01.jsp\" KsSystemInput=\"KsPid=06020457038240837553&KsCustom=&KsAppVerson=2016/&KsTime=20180109153022\" Unique=\"\"><input type=hidden name=\"KsSrc\" id=\"KsSrc\" value=\"ItemTrxRecInq01.jsp\"><input type=hidden name=\"KsPid\" id=\"KsPid\" value=\"06020457038240837553\"><input type=hidden name=\"KsCustom\" id=\"KsCustom\" value=\"\"><input type=hidden name=\"KsAppVerson\" id=\"KsAppVerson\" value=\"2016/\"><input type=hidden name=\"wh_loc\" id=\"wh_loc\" value=\"\"><input type=hidden name=\"item_code\" id=\"item_code\" value=\"\"></Form>\n" +
			"</body>\n" +
			"<Script Language=\"JScript\">\n" +
			"function window.onload()\n" +
			"{\n" +
			"\tGetTable().focus();\n" +
			"}\n" +
			"\n" +
			"function domod(key)\n" +
			"{\n" +
			"\tif (key==13)\n" +
			"\t{\n" +
			"\t\tif (DbPageGridText1.GetCellByName(\"cnt\").innerText!=\"1\")\n" +
			"\t\t{\n" +
			"\t\t\tSubWin1.SetFldValue(\"item_code\",DbPageGridText1.GetCellByName(\"item_code\").innerText);\n" +
			"\t\t\tSubWin1.SetFldValue(\"wh_loc\",DbPageGridText1.GetCellByName(\"wh_loc\").innerText);\n" +
			"\t\t\tSubWin1.SetSrc(SubWin1.GetSrc()+\"?\"+SubWin1.GetCtlQueryString());\n" +
			"\t\t}\n" +
			"\t}\n" +
			"\t/*if (key==69)\n" +
			"\t{\n" +
			"\t\tif (DbPageGridText1.GetCellByName(\"cnt\").innerText!=\"1\")\n" +
			"\t\t{\n" +
			"\t\t\tSubWin2.SetFldValue(\"item1_code\",DbPageGridText1.GetCellByName(\"item1_code\").innerText);\n" +
			"\t\t\tSubWin2.SetSrc(SubWin2.GetSrc()+\"?\"+SubWin2.GetQueryString());\n" +
			"\t\t}\n" +
			"\t\telse alert(\"请先选择商品！\");\n" +
			"\t}*/\n" +
			"\tif (key==76)\n" +
			"\t{\n" +
			"\t\tif (DbPageGridText1.GetCellByName(\"cnt\").innerText!=\"1\")\n" +
			"\t\t{\n" +
			"\t\t\tSubWinL.SetFldValue(\"wh_loc\",DbPageGridText1.GetCellByName(\"wh_loc\").innerText);\n" +
			"\t\t\tSubWinL.SetFldValue(\"item_code\",DbPageGridText1.GetCellByName(\"item_code\").innerText);\n" +
			"\t\t\tSubWinL.SetSrc(SubWinL.GetSrc()+\"?\"+SubWinL.GetQueryString());\n" +
			"\t\t}\n" +
			"\t\telse alert(\"请先选择商品！\");\n" +
			"\t}\n" +
			"}\n" +
			"\n" +
			"function dokeyuppurs03(key,id) //查询窗按健处理（相同名称）\n" +
			"{\n" +
			"\tif((key==27)||(key==96)){SubWin2.Close(); GetTable().focus();}\n" +
			"}\n" +
			"</Script>\n" +
			"</html><Script Language=\"Javascript\">function DbPageGridText1PgDnFunctions(){};function GetTable(){return DbPageGridText1};function kssysfunc1(){};function kssysfunc2(){};function kssysfunc3(){};var KsWindowOnload=window.onload;window.onload=function(){window.KsOnLoadCMP=true;if(window.KsInitPage)KsInitPage();else KsInitPageRun()};function KsInitPageRun(){KsSetPageGrid(DbPageGridText1, window);KsSetGraphSubWin(SubWin1,null,window);SetKsForm(KsSubFormSubWin1,window);KsSetGraphSubWin(SubWin2,null,window);SetKsForm(KsSubFormSubWin2,window);KsSetGraphSubWin(SubWinL,null,window);SetKsForm(KsSubFormSubWinL,window);;if(window.KsOnload)window.KsOnload();;if(KsWindowOnload)KsWindowOnload();if(window.cOnload)KS.ready(function(){window.cOnload();});};</Script>";

}
